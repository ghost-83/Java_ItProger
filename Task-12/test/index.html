<!DOCTYPE HTML>
<html>
<head>
    <title>Регистрация</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
<header>
    <nav class="navbar navbar-expand-xl navbar-dark bg-dark">
        <a class="navbar-brand" href="/">GHOST</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample06" aria-controls="navbarsExample06" aria-expanded="false" aria-label="Toggle navigation" wfd-id="118">
            <span class="navbar-toggler-icon" wfd-id="64"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExample06" wfd-id="55">
            <ul class="navbar-nav mr-auto" wfd-id="57">
                <li class="nav-item active" wfd-id="62">
                    <a class="nav-link" href="/moves">Move<span class="sr-only" wfd-id="63">(current)</span></a>
                </li>
                <li class="nav-item active" wfd-id="62">
                    <a class="nav-link" href="/music">Music<span class="sr-only" wfd-id="63">(current)</span></a>
                </li>
                <li class="nav-item dropdown" wfd-id="58">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown06" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Projects</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown06" wfd-id="59">
                        <a class="dropdown-item" href="#">JAVA</a>
                        <a class="dropdown-item" href="#">PYTHON</a>
                        <a class="dropdown-item" href="#">ARDUINO</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="video">
    <video src="image/Blue - 27239.mp4" autoplay muted loop></video>
</div>

<main role="main" class="block col-md-4">
    <div class="text-center bg-warning p-3 mb-3 rounded align-items-center row justify-content-center">
        <form action="/registration" method="post">
            <h1 class="cover-heading">Регистрация.</h1>
            <p class="lead">Пройдите регестрацию, заполняйте все строки корректн!</p>
            <input type="text" id="user" name="username" placeholder="Введите логин" class="form-control"><span id="valid1"></span><br>
            <input type="text" id="email" name="email" placeholder="Введите email" class="form-control"><span id="valid2"></span><br>
            <input type="hidden" name="_csrf" value="{{_csrf.token}}">
            <input type="password" id="pass"  name="password" placeholder="Введите пароль" class="form-control"><span id="valid3"></span><br>
            <button type="submit" id="submit" class="btn btn-success disabled">Зарегестрироваться</button>
            <p></p>
        </form>
    </div>
</main>

</body>

<script src="scripts/jquery-3.4.1.slim.min.js"></script>
<script src="scripts/popper.min.js"></script>
<script src="scripts/bootstrap.min.js"></script>

<script type="text/javascript">
	$(document).ready(function(){
        var pattern = /^[a-z0-9_-]{4,20}$/i;
        var patternE = /^[a-z0-9_-]+@[a-z0-9-]+\.([a-z]{1,6}\.)?[a-z]{2,6}$/i;
        var user = $('#user');
        var pass = $('#pass');
        var email = $('#email');
        var submit = $('#submit');
        var rezU, rezE, rezP;
		
		user.blur(function(){
			if(user.val() != ''){
				if(user.val().search(pattern) == 0){
					$('#valid1').text('Готово');
                    rezU = true;
                    if(rezU == rezE == rezP == true){
                        $('#submit').attr('disabled', false);
                    }
                    else{
                        $('#submit').attr('disabled', true);
                    }        
				}else{
					$('#valid1').text('Не верный адрес');
					rezU = false;
				}
			}else{
				$('#valid1').text('Поле логин не должно быть пустым!');
				rezU = false;
            }
        
        });
        email.blur(function(){
			if(email.val() != ''){
				if(email.val().search(patternE) == 0){
                    $('#valid2').text('Готово');
                    rezE = true;
                    if(rezU == rezE == rezP == true){
                        $('#submit').attr('disabled', false);
                    }
                    else{
                        $('#submit').attr('disabled', true);
                    }        
				}else{
                    $('#valid2').text('Не верный адрес');
                    rezE = false;
				}
			}else{
                $('#valid2').text('Поле e-mail не должно быть пустым!');
                rezE = false;
            }
        });
        pass.blur(function(){
			if(pass.val() != ''){
				if(pass.val().search(pattern) == 0){
					$('#valid3').text('Готово');
					rezP = true;
                    if(rezU == rezE == rezP == true){
                        $('#submit').attr('disabled', false);
                    }
                    else{
                        $('#submit').attr('disabled', true);
                    }        
				}else{
					$('#valid3').text('Не верный адрес');
					rezP = false
				}
			}else{
				$('#valid3').text('Поле пароль не должно быть пустым!');
				rezP = false
            }
        });
      
	});	
</script>
</html>